<!-- Hero [[ Find at scss/framework/hero.scss ]] -->
<div class="hero" [style.background-image]="'url(' + picturebackground + ')'"></div>

<!-- Start:: under hero [[ Find at scss/framework/hero.scss ]] -->
<div class="under-hero container">

    <!-- Start:: section [[ Find at scss/framework/section.scss ]] -->
    <div class="section">
        <div class="row">
            <div class="col-xl-12 col-md-10 mx-auto">
                <div class="card">
                    <div class="card-header pb-0">
                        <!-- Start:: mat tabs [[ Find at scss/components/nav.scss ]] -->
                        <div class="mat-tabs" appTabs>
                            <ul class="nav nav-tabs" id="add_music" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="licence1" data-bs-toggle="tab"
                                        data-bs-target="#licence_un" type="button" role="tab" aria-controls="licence_un"
                                        aria-selected="true">Ajouter une sous-catégorie
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="licence2" data-bs-toggle="tab"
                                        data-bs-target="#licence_deux" type="button" role="tab"
                                        aria-controls="licence_deux" aria-selected="false">Supprimer une sous-catégorie
                                    </button>
                                </li>
                            </ul>
                        </div>
                        <!-- End:: mat tabs -->
                    </div>
                    <div class="card-body">
                        <div class="tab-content" id="add_music_content">
                            <div class="tab-pane fade show active" id="licence_un" role="tabpanel"
                                aria-labelledby="licence1" tabindex="0">
                                <form action="#" class="row" [formGroup]="categoryForm">
                                    <div class="col-12 mb-4">
                                        <input type="text" formControlName="title_fr" class="form-control"
                                            placeholder="Titre de la sous-catégorie (ex: POP)">
                                    </div>
                                    <div class="col-12 mb-4">
                                        <select class="form-select" formControlName="category"
                                            aria-label="Select category">
                                            <option value="" selected disabled hidden>Merci de choisir</option>
                                            <option value="chansons-a-chanter">Chansons à chanter</option>
                                            <option value="chansons-cherche-auteur">Chanson(s) cherche auteur</option>
                                            <option value="creacourcis">Creacourcis</option>
                                            <option value="instrumentaux">Instrumentaux</option>
                                            <option value="musique-de-contenus">Musique de contenus</option>
                                            <option value="virgules-sonores">Virgules sonores</option>
                                        </select>
                                    </div>
                                    <div class="col-12 mb-4">
                                        <label for="img" class="form-label">Image</label>
                                        <input type="file" id="img" class="form-control"
                                            (change)="onFileSelected($event, 'picture')" multiple>
                                        <div class="progress" [hidden]="progress['picture'] === undefined">
                                            <div class="progress-bar" role="progressbar"
                                                [style.width.%]="progress['picture']"
                                                [attr.aria-valuenow]="progress['picture']" aria-valuemin="0"
                                                aria-valuemax="100">
                                                {{ progress['picture'] }}%
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-footer text-center">
                                        <button class="btn btn-cutsom" style="min-width: 140px;" (click)="addCategory()"
                                            [disabled]="!categoryForm.valid">Ajouter catégorie</button>
                                        <button class="btn btn-outline-secondary ms-2">Cancel</button>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane fade" id="licence_deux" role="tabpanel" aria-labelledby="licence2"
                                tabindex="0">
                                <div class="alert alert-custom" *ngIf="categories.length == 0">
                                    Aucun résultat
                                </div>
                                <form action="#" class="row">
                                    <div class="col-12 mb-4">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Titre</th>
                                                    <th scope="col">Supprimer</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let category of categories">
                                                    <td>{{category.title_fr}} ({{category.category}})</td>
                                                    <td><button class="btn btn-light-danger"
                                                            (click)="delete(category.id, category.picture_name)">Supprimer</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End:: section -->

</div>